{ This .cal file was generated automatically by GenCumulativeSky }
{ GenCumulativeSky +s1 -a 1.37 -o -103.98 -m -120.00 -p -E -time 7 19 -date 1 1 1 31 F:\kianwee_work\spyder_workspace\envuo\examples\punggol_case_study\weatherfile\SGP_Singapore.486980_IWEC.epw  }

skybright=row0+row1+row2+row3+row4+row5+row6+row7;

row0=if(and(alt-0, 12-alt),select(floor(0.5+az/12.00)+1,
	17.666657,
	17.735003,
	17.956700,
	18.367046,
	19.033205,
	20.065089,
	21.621084,
	23.879978,
	26.879419,
	29.845819,
	30.363861,
	28.699585,
	26.761418,
	25.253418,
	24.342955,
	24.035704,
	24.306698,
	25.128550,
	26.434672,
	27.987979,
	29.052732,
	28.299923,
	25.905013,
	23.389081,
	21.402495,
	19.983067,
	19.012641,
	18.369607,
	17.964379,
	17.740169,
	17.666657),0);

row1=if(and(alt-12, 24-alt),select(floor(0.5+az/12.00)+1,
	17.498055,
	17.583831,
	17.872174,
	18.411105,
	19.293331,
	20.676478,
	22.808979,
	26.044807,
	30.767119,
	72.329251,
	51.787532,
	34.498450,
	31.391635,
	29.155668,
	27.854648,
	27.424108,
	27.812868,
	29.007355,
	30.994940,
	33.630650,
	80.507424,
	76.305697,
	29.693435,
	25.547485,
	22.618485,
	20.631748,
	19.308236,
	18.442597,
	17.900046,
	17.599340,
	17.498055),0);

row2=if(and(alt-24, 36-alt),select(floor(0.5+az/15.00)+1,
	17.220374,
	17.383687,
	17.948902,
	19.059445,
	21.010247,
	24.335058,
	29.886444,
	54.292092,
	130.260946,
	39.134929,
	34.879794,
	32.386935,
	31.591573,
	32.378913,
	34.740356,
	38.591934,
	79.273348,
	42.699409,
	29.468447,
	24.255605,
	21.058131,
	19.133994,
	18.009317,
	17.415828,
	17.220374),0);

row3=if(and(alt-36, 48-alt),select(floor(0.5+az/15.00)+1,
	17.407212,
	17.596290,
	18.251364,
	19.517730,
	21.682262,
	25.233772,
	30.884449,
	39.182116,
	193.400828,
	45.022598,
	40.963596,
	38.382303,
	37.552974,
	38.427235,
	40.942614,
	44.762730,
	139.484953,
	38.772921,
	30.799713,
	25.317994,
	21.814414,
	19.638617,
	18.337353,
	17.640037,
	17.407212),0);

row4=if(and(alt-48, 60-alt),select(floor(0.5+az/20.00)+1,
	18.509105,
	18.904832,
	20.286603,
	23.071221,
	28.027084,
	36.061427,
	111.325976,
	134.210292,
	47.056940,
	45.914670,
	47.135859,
	121.292595,
	152.381630,
	36.137644,
	28.202089,
	23.251701,
	20.419156,
	18.972536,
	18.509105),0);

row5=if(and(alt-60, 72-alt),select(floor(0.5+az/30.00)+1,
	20.970274,
	21.942607,
	25.360348,
	32.257440,
	42.773648,
	222.957424,
	237.858725,
	119.023046,
	42.903348,
	32.448704,
	25.536510,
	22.039151,
	20.970274),0);

row6=if(and(alt-72, 84-alt),select(floor(0.5+az/60.00)+1,
	25.466243,
	28.670969,
	37.953510,
	44.526346,
	38.053937,
	28.782834,
	25.466243),0);

row7=if(alt-84,33.015746,0);

alt=asin(Dz)*180/PI;

az=if(azi,azi,azi+360);
azi=atan2(Dx,Dy)*180/PI;

